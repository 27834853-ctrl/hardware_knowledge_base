<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API æ–‡æ¡£ - ç¡¬ä»¶å·¥ç¨‹å¸ˆçŸ¥è¯†åº“</title>
    <meta name="description" content="ç¡¬ä»¶å·¥ç¨‹å¸ˆçŸ¥è¯†åº“ JavaScript API æ–‡æ¡£ï¼ŒåŒ…å«æœç´¢ã€åˆ†æã€åé¦ˆç­‰æ¨¡å—çš„å®Œæ•´æ¥å£è¯´æ˜">

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ”§</text></svg>">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Styles -->
    <link rel="stylesheet" href="styles.css">

    <style>
        .api-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        .api-header {
            text-align: center;
            margin-bottom: 60px;
        }

        .api-header h1 {
            font-size: 48px;
            font-weight: 800;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 20px;
        }

        .api-header p {
            font-size: 18px;
            color: #666;
            max-width: 600px;
            margin: 0 auto;
        }

        .api-nav {
            background: white;
            border-radius: 16px;
            padding: 30px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            margin-bottom: 40px;
            position: sticky;
            top: 80px;
            z-index: 100;
        }

        .api-nav h2 {
            font-size: 20px;
            margin-bottom: 20px;
            color: #333;
        }

        .api-nav-links {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 12px;
        }

        .api-nav-link {
            padding: 12px 16px;
            background: #f5f5f5;
            border-radius: 8px;
            text-decoration: none;
            color: #333;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 500;
        }

        .api-nav-link:hover {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            transform: translateX(4px);
        }

        .api-section {
            background: white;
            border-radius: 16px;
            padding: 40px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            margin-bottom: 40px;
        }

        .api-section h2 {
            font-size: 32px;
            font-weight: 700;
            color: #333;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .api-section h2 i {
            font-size: 28px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .api-section > p {
            font-size: 16px;
            color: #666;
            line-height: 1.8;
            margin-bottom: 30px;
        }

        .api-method {
            border-left: 4px solid #667eea;
            padding: 20px;
            background: #f9f9f9;
            border-radius: 8px;
            margin-bottom: 30px;
        }

        .api-method h3 {
            font-size: 20px;
            font-weight: 700;
            color: #333;
            margin-bottom: 12px;
            font-family: 'Consolas', 'Monaco', monospace;
        }

        .api-method-signature {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 16px;
            border-radius: 8px;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 14px;
            overflow-x: auto;
            margin-bottom: 16px;
        }

        .api-method-signature .keyword {
            color: #ff79c6;
        }

        .api-method-signature .function {
            color: #50fa7b;
        }

        .api-method-signature .param {
            color: #f1fa8c;
        }

        .api-method-signature .type {
            color: #8be9fd;
        }

        .api-method-description {
            color: #666;
            line-height: 1.8;
            margin-bottom: 16px;
        }

        .api-params {
            margin-top: 20px;
        }

        .api-params h4 {
            font-size: 16px;
            font-weight: 600;
            color: #333;
            margin-bottom: 12px;
        }

        .api-param {
            background: white;
            padding: 12px;
            border-radius: 6px;
            margin-bottom: 8px;
            border: 1px solid #e0e0e0;
        }

        .api-param-name {
            font-family: 'Consolas', 'Monaco', monospace;
            font-weight: 600;
            color: #667eea;
        }

        .api-param-type {
            font-family: 'Consolas', 'Monaco', monospace;
            color: #999;
            font-size: 13px;
        }

        .api-param-required {
            display: inline-block;
            padding: 2px 8px;
            background: #f44336;
            color: white;
            border-radius: 4px;
            font-size: 11px;
            font-weight: 600;
            margin-left: 8px;
        }

        .api-param-optional {
            display: inline-block;
            padding: 2px 8px;
            background: #4caf50;
            color: white;
            border-radius: 4px;
            font-size: 11px;
            font-weight: 600;
            margin-left: 8px;
        }

        .api-param-description {
            color: #666;
            font-size: 14px;
            margin-top: 8px;
        }

        .api-returns {
            margin-top: 20px;
        }

        .api-returns h4 {
            font-size: 16px;
            font-weight: 600;
            color: #333;
            margin-bottom: 12px;
        }

        .api-example {
            margin-top: 20px;
        }

        .api-example h4 {
            font-size: 16px;
            font-weight: 600;
            color: #333;
            margin-bottom: 12px;
        }

        .api-code {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 14px;
            overflow-x: auto;
            position: relative;
        }

        .api-code-copy {
            position: absolute;
            top: 12px;
            right: 12px;
            padding: 6px 12px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.2s;
        }

        .api-code-copy:hover {
            background: #764ba2;
        }

        .api-note {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 16px;
            border-radius: 8px;
            margin-top: 20px;
        }

        .api-note i {
            color: #ffc107;
            margin-right: 8px;
        }

        .api-note p {
            margin: 0;
            color: #856404;
        }

        .api-warning {
            background: #f8d7da;
            border-left: 4px solid #f44336;
            padding: 16px;
            border-radius: 8px;
            margin-top: 20px;
        }

        .api-warning i {
            color: #f44336;
            margin-right: 8px;
        }

        .api-warning p {
            margin: 0;
            color: #721c24;
        }

        .api-info {
            background: #d1ecf1;
            border-left: 4px solid #0dcaf0;
            padding: 16px;
            border-radius: 8px;
            margin-top: 20px;
        }

        .api-info i {
            color: #0dcaf0;
            margin-right: 8px;
        }

        .api-info p {
            margin: 0;
            color: #0c5460;
        }

        /* Dark mode */
        [data-theme="dark"] .api-section,
        [data-theme="dark"] .api-nav {
            background: #2a2a2a;
        }

        [data-theme="dark"] .api-section h2,
        [data-theme="dark"] .api-method h3,
        [data-theme="dark"] .api-params h4,
        [data-theme="dark"] .api-returns h4,
        [data-theme="dark"] .api-example h4 {
            color: #fff;
        }

        [data-theme="dark"] .api-section > p,
        [data-theme="dark"] .api-method-description,
        [data-theme="dark"] .api-param-description {
            color: #ccc;
        }

        [data-theme="dark"] .api-method {
            background: #1e1e1e;
            border-left-color: #764ba2;
        }

        [data-theme="dark"] .api-param {
            background: #1e1e1e;
            border-color: #3a3a3a;
        }

        [data-theme="dark"] .api-nav-link {
            background: #1e1e1e;
            color: #ccc;
        }

        [data-theme="dark"] .api-nav-link:hover {
            color: white;
        }

        @media (max-width: 768px) {
            .api-header h1 {
                font-size: 36px;
            }

            .api-section,
            .api-nav {
                padding: 24px;
            }

            .api-nav {
                position: static;
            }

            .api-nav-links {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="index.html" class="logo">
                <i class="fas fa-microchip"></i>
                ç¡¬ä»¶å·¥ç¨‹å¸ˆçŸ¥è¯†åº“
            </a>
            <ul class="nav-links">
                <li><a href="index.html"><i class="fas fa-home"></i> é¦–é¡µ</a></li>
                <li><a href="cases.html"><i class="fas fa-folder-open"></i> æ¡ˆä¾‹åº“</a></li>
                <li><a href="quick-reference.html"><i class="fas fa-bookmark"></i> å¿«é€Ÿå‚è€ƒ</a></li>
                <li><a href="api-docs.html" class="active"><i class="fas fa-code"></i> API æ–‡æ¡£</a></li>
            </ul>
            <button class="theme-toggle" id="themeToggle" aria-label="åˆ‡æ¢ä¸»é¢˜">
                <i class="fas fa-moon"></i>
            </button>
        </div>
    </nav>

    <div class="api-container">
        <!-- Header -->
        <div class="api-header">
            <h1>API æ–‡æ¡£</h1>
            <p>å®Œæ•´çš„ JavaScript API å‚è€ƒæ–‡æ¡£ï¼Œå¸®åŠ©ä½ æ‰©å±•å’Œå®šåˆ¶ç¡¬ä»¶å·¥ç¨‹å¸ˆçŸ¥è¯†åº“</p>
        </div>

        <!-- Quick Navigation -->
        <div class="api-nav">
            <h2><i class="fas fa-compass"></i> å¿«é€Ÿå¯¼èˆª</h2>
            <div class="api-nav-links">
                <a href="#search-optimizer" class="api-nav-link">
                    <i class="fas fa-search"></i> SearchOptimizer
                </a>
                <a href="#analytics" class="api-nav-link">
                    <i class="fas fa-chart-line"></i> Analytics
                </a>
                <a href="#sw-api" class="api-nav-link">
                    <i class="fas fa-cog"></i> Service Worker
                </a>
                <a href="#share" class="api-nav-link">
                    <i class="fas fa-share-alt"></i> Share
                </a>
                <a href="#feedback" class="api-nav-link">
                    <i class="fas fa-comment"></i> Feedback
                </a>
            </div>
        </div>

        <!-- SearchOptimizer API -->
        <div class="api-section" id="search-optimizer">
            <h2><i class="fas fa-search"></i> SearchOptimizer API</h2>
            <p>ä¼˜åŒ–çš„æœç´¢å¼•æ“ APIï¼Œæä¾›å¿«é€Ÿã€æ™ºèƒ½çš„æœç´¢åŠŸèƒ½ï¼Œæ”¯æŒæ¨¡ç³ŠåŒ¹é…ã€ç»“æœç¼“å­˜å’Œç›¸å…³åº¦æ’åºã€‚</p>

            <!-- search() -->
            <div class="api-method">
                <h3>SearchOptimizer.search(query)</h3>
                <div class="api-method-signature">
<span class="keyword">function</span> <span class="function">search</span>(<span class="param">query</span>: <span class="type">string</span>): <span class="type">Array&lt;SearchResult&gt;</span>
                </div>
                <div class="api-method-description">
                    æ‰§è¡Œä¼˜åŒ–çš„æœç´¢æŸ¥è¯¢ï¼Œè¿”å›ç›¸å…³åº¦æ’åºçš„ç»“æœæ•°ç»„ã€‚
                </div>

                <div class="api-params">
                    <h4>å‚æ•°</h4>
                    <div class="api-param">
                        <span class="api-param-name">query</span>
                        <span class="api-param-type">string</span>
                        <span class="api-param-required">å¿…éœ€</span>
                        <div class="api-param-description">æœç´¢æŸ¥è¯¢å­—ç¬¦ä¸²ï¼Œè‡³å°‘ 2 ä¸ªå­—ç¬¦</div>
                    </div>
                </div>

                <div class="api-returns">
                    <h4>è¿”å›å€¼</h4>
                    <div class="api-param">
                        <span class="api-param-type">Array&lt;SearchResult&gt;</span>
                        <div class="api-param-description">
                            æœç´¢ç»“æœæ•°ç»„ï¼Œæ¯ä¸ªç»“æœåŒ…å«ï¼š
                            <ul>
                                <li><code>id</code>: æ–‡æ¡£ ID</li>
                                <li><code>type</code>: æ–‡æ¡£ç±»å‹ï¼ˆformula/case/sectionï¼‰</li>
                                <li><code>title</code>: æ–‡æ¡£æ ‡é¢˜</li>
                                <li><code>content</code>: æ–‡æ¡£å†…å®¹</li>
                                <li><code>category</code>: åˆ†ç±»</li>
                                <li><code>tags</code>: æ ‡ç­¾æ•°ç»„</li>
                                <li><code>score</code>: ç›¸å…³åº¦è¯„åˆ†</li>
                                <li><code>relevance</code>: ç›¸å…³æ€§åˆ†æ•°</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="api-example">
                    <h4>ç¤ºä¾‹</h4>
                    <div class="api-code">
                        <button class="api-code-copy" onclick="copyCode(this)">å¤åˆ¶</button>
<pre>// æ‰§è¡Œæœç´¢
const results = SearchOptimizer.search('PCB é˜»æŠ—');

// å¤„ç†ç»“æœ
results.forEach(result => {
    console.log(`æ ‡é¢˜: ${result.title}`);
    console.log(`ç±»å‹: ${result.type}`);
    console.log(`è¯„åˆ†: ${result.score}`);
});</pre>
                    </div>
                </div>

                <div class="api-note">
                    <i class="fas fa-info-circle"></i>
                    <p>æœç´¢ç»“æœä¼šè‡ªåŠ¨ç¼“å­˜ 1 å°æ—¶ï¼Œé‡å¤æŸ¥è¯¢å°†ç›´æ¥ä»ç¼“å­˜è¿”å›ã€‚</p>
                </div>
            </div>

            <!-- highlight() -->
            <div class="api-method">
                <h3>SearchOptimizer.highlight(text, queryWords, maxLength)</h3>
                <div class="api-method-signature">
<span class="keyword">function</span> <span class="function">highlight</span>(
    <span class="param">text</span>: <span class="type">string</span>,
    <span class="param">queryWords</span>: <span class="type">Array&lt;string&gt;</span>,
    <span class="param">maxLength</span>: <span class="type">number</span> = <span class="type">200</span>
): <span class="type">string</span>
                </div>
                <div class="api-method-description">
                    é«˜äº®æ–‡æœ¬ä¸­çš„æœç´¢è¯ï¼Œè¿”å›å¸¦æœ‰ &lt;mark&gt; æ ‡ç­¾çš„ HTML å­—ç¬¦ä¸²ã€‚
                </div>

                <div class="api-params">
                    <h4>å‚æ•°</h4>
                    <div class="api-param">
                        <span class="api-param-name">text</span>
                        <span class="api-param-type">string</span>
                        <span class="api-param-required">å¿…éœ€</span>
                        <div class="api-param-description">è¦å¤„ç†çš„æ–‡æœ¬</div>
                    </div>
                    <div class="api-param">
                        <span class="api-param-name">queryWords</span>
                        <span class="api-param-type">Array&lt;string&gt;</span>
                        <span class="api-param-required">å¿…éœ€</span>
                        <div class="api-param-description">è¦é«˜äº®çš„å…³é”®è¯æ•°ç»„</div>
                    </div>
                    <div class="api-param">
                        <span class="api-param-name">maxLength</span>
                        <span class="api-param-type">number</span>
                        <span class="api-param-optional">å¯é€‰</span>
                        <div class="api-param-description">æœ€å¤§æ–‡æœ¬é•¿åº¦ï¼Œé»˜è®¤ 200</div>
                    </div>
                </div>

                <div class="api-example">
                    <h4>ç¤ºä¾‹</h4>
                    <div class="api-code">
                        <button class="api-code-copy" onclick="copyCode(this)">å¤åˆ¶</button>
<pre>const text = 'PCB é˜»æŠ—åŒ¹é…å¯¹ä¿¡å·å®Œæ•´æ€§è‡³å…³é‡è¦';
const highlighted = SearchOptimizer.highlight(text, ['PCB', 'é˜»æŠ—']);

// ç»“æœ: "&lt;mark&gt;PCB&lt;/mark&gt; &lt;mark&gt;é˜»æŠ—&lt;/mark&gt;åŒ¹é…å¯¹ä¿¡å·å®Œæ•´æ€§è‡³å…³é‡è¦"</pre>
                    </div>
                </div>
            </div>

            <!-- rebuild() -->
            <div class="api-method">
                <h3>SearchOptimizer.rebuild()</h3>
                <div class="api-method-signature">
<span class="keyword">function</span> <span class="function">rebuild</span>(): <span class="type">void</span>
                </div>
                <div class="api-method-description">
                    æ¸…é™¤ç¼“å­˜å¹¶é‡å»ºæœç´¢ç´¢å¼•ã€‚å½“é¡µé¢å†…å®¹æ›´æ–°ååº”è°ƒç”¨æ­¤æ–¹æ³•ã€‚
                </div>

                <div class="api-example">
                    <h4>ç¤ºä¾‹</h4>
                    <div class="api-code">
                        <button class="api-code-copy" onclick="copyCode(this)">å¤åˆ¶</button>
<pre>// åŠ¨æ€æ·»åŠ å†…å®¹åé‡å»ºç´¢å¼•
document.querySelector('.content').innerHTML += newContent;
SearchOptimizer.rebuild();</pre>
                    </div>
                </div>
            </div>

            <!-- getStats() -->
            <div class="api-method">
                <h3>SearchOptimizer.getStats()</h3>
                <div class="api-method-signature">
<span class="keyword">function</span> <span class="function">getStats</span>(): <span class="type">SearchStats</span>
                </div>
                <div class="api-method-description">
                    è·å–æœç´¢å¼•æ“ç»Ÿè®¡ä¿¡æ¯ã€‚
                </div>

                <div class="api-returns">
                    <h4>è¿”å›å€¼</h4>
                    <div class="api-param">
                        <span class="api-param-type">SearchStats</span>
                        <div class="api-param-description">
                            åŒ…å«ä»¥ä¸‹å­—æ®µï¼š
                            <ul>
                                <li><code>documents</code>: ç´¢å¼•çš„æ–‡æ¡£æ•°é‡</li>
                                <li><code>indexSize</code>: ç´¢å¼•å¤§å°</li>
                                <li><code>cacheSize</code>: ç¼“å­˜æ¡ç›®æ•°</li>
                                <li><code>lastUpdated</code>: æœ€åæ›´æ–°æ—¶é—´</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="api-example">
                    <h4>ç¤ºä¾‹</h4>
                    <div class="api-code">
                        <button class="api-code-copy" onclick="copyCode(this)">å¤åˆ¶</button>
<pre>const stats = SearchOptimizer.getStats();
console.log(`ç´¢å¼•æ–‡æ¡£: ${stats.documents}`);
console.log(`æœ€åæ›´æ–°: ${stats.lastUpdated}`);</pre>
                    </div>
                </div>
            </div>
        </div>

        <!-- Analytics API -->
        <div class="api-section" id="analytics">
            <h2><i class="fas fa-chart-line"></i> Analytics API</h2>
            <p>ç½‘ç«™åˆ†æ APIï¼Œæä¾›äº‹ä»¶è¿½è¸ªã€é¡µé¢æµè§ˆç»Ÿè®¡ç­‰åŠŸèƒ½ï¼Œæ”¯æŒ Google Analytics å’Œç™¾åº¦ç»Ÿè®¡ã€‚</p>

            <!-- track() -->
            <div class="api-method">
                <h3>Analytics.track(category, action, label, value)</h3>
                <div class="api-method-signature">
<span class="keyword">function</span> <span class="function">track</span>(
    <span class="param">category</span>: <span class="type">string</span>,
    <span class="param">action</span>: <span class="type">string</span>,
    <span class="param">label</span>: <span class="type">string</span>,
    <span class="param">value</span>: <span class="type">number</span>
): <span class="type">void</span>
                </div>
                <div class="api-method-description">
                    è¿½è¸ªè‡ªå®šä¹‰äº‹ä»¶åˆ° Google Analytics å’Œç™¾åº¦ç»Ÿè®¡ã€‚
                </div>

                <div class="api-params">
                    <h4>å‚æ•°</h4>
                    <div class="api-param">
                        <span class="api-param-name">category</span>
                        <span class="api-param-type">string</span>
                        <span class="api-param-required">å¿…éœ€</span>
                        <div class="api-param-description">äº‹ä»¶åˆ†ç±»ï¼ˆå¦‚ 'Video', 'Navigation'ï¼‰</div>
                    </div>
                    <div class="api-param">
                        <span class="api-param-name">action</span>
                        <span class="api-param-type">string</span>
                        <span class="api-param-required">å¿…éœ€</span>
                        <div class="api-param-description">äº‹ä»¶åŠ¨ä½œï¼ˆå¦‚ 'Play', 'Click'ï¼‰</div>
                    </div>
                    <div class="api-param">
                        <span class="api-param-name">label</span>
                        <span class="api-param-type">string</span>
                        <span class="api-param-optional">å¯é€‰</span>
                        <div class="api-param-description">äº‹ä»¶æ ‡ç­¾ï¼ˆå¦‚è§†é¢‘åç§°ï¼‰</div>
                    </div>
                    <div class="api-param">
                        <span class="api-param-name">value</span>
                        <span class="api-param-type">number</span>
                        <span class="api-param-optional">å¯é€‰</span>
                        <div class="api-param-description">äº‹ä»¶å€¼ï¼ˆå¦‚æ’­æ”¾æ—¶é•¿ï¼‰</div>
                    </div>
                </div>

                <div class="api-example">
                    <h4>ç¤ºä¾‹</h4>
                    <div class="api-code">
                        <button class="api-code-copy" onclick="copyCode(this)">å¤åˆ¶</button>
<pre>// è¿½è¸ªæŒ‰é’®ç‚¹å‡»
Analytics.track('Button', 'Click', 'Download PDF');

// è¿½è¸ªè§†é¢‘æ’­æ”¾
Analytics.track('Video', 'Play', 'Tutorial 1', 120);

// è¿½è¸ªä¸‹è½½
Analytics.track('Download', 'Click', 'datasheet.pdf');</pre>
                    </div>
                </div>

                <div class="api-warning">
                    <i class="fas fa-exclamation-triangle"></i>
                    <p>å¦‚æœç”¨æˆ·æ‹’ç» Cookie æˆ–å¯ç”¨äº† DNTï¼Œæ­¤æ–¹æ³•å°†ä¸ä¼šå‘é€æ•°æ®ã€‚</p>
                </div>
            </div>

            <!-- trackPageView() -->
            <div class="api-method">
                <h3>Analytics.trackPageView(path)</h3>
                <div class="api-method-signature">
<span class="keyword">function</span> <span class="function">trackPageView</span>(<span class="param">path</span>: <span class="type">string</span>): <span class="type">void</span>
                </div>
                <div class="api-method-description">
                    æ‰‹åŠ¨è¿½è¸ªé¡µé¢æµè§ˆï¼Œç”¨äºå•é¡µåº”ç”¨è·¯ç”±å˜åŒ–ã€‚
                </div>

                <div class="api-example">
                    <h4>ç¤ºä¾‹</h4>
                    <div class="api-code">
                        <button class="api-code-copy" onclick="copyCode(this)">å¤åˆ¶</button>
<pre>// SPA è·¯ç”±å˜åŒ–æ—¶è¿½è¸ª
router.on('change', (path) => {
    Analytics.trackPageView(path);
});</pre>
                    </div>
                </div>
            </div>

            <!-- isEnabled() -->
            <div class="api-method">
                <h3>Analytics.isEnabled()</h3>
                <div class="api-method-signature">
<span class="keyword">function</span> <span class="function">isEnabled</span>(): <span class="type">boolean</span>
                </div>
                <div class="api-method-description">
                    æ£€æŸ¥åˆ†æè¿½è¸ªæ˜¯å¦å·²å¯ç”¨ï¼ˆè€ƒè™‘ DNT å’Œ Cookie åŒæ„ï¼‰ã€‚
                </div>

                <div class="api-example">
                    <h4>ç¤ºä¾‹</h4>
                    <div class="api-code">
                        <button class="api-code-copy" onclick="copyCode(this)">å¤åˆ¶</button>
<pre>if (Analytics.isEnabled()) {
    console.log('åˆ†æå·²å¯ç”¨');
} else {
    console.log('åˆ†æå·²ç¦ç”¨');
}</pre>
                    </div>
                </div>
            </div>
        </div>

        <!-- Service Worker API -->
        <div class="api-section" id="sw-api">
            <h2><i class="fas fa-cog"></i> Service Worker API</h2>
            <p>Service Worker è°ƒè¯•å’Œç®¡ç† APIï¼Œç”¨äºæ£€æŸ¥æ›´æ–°ã€æ¸…é™¤ç¼“å­˜ç­‰æ“ä½œã€‚</p>

            <!-- checkUpdate() -->
            <div class="api-method">
                <h3>swAPI.checkUpdate()</h3>
                <div class="api-method-signature">
<span class="keyword">async function</span> <span class="function">checkUpdate</span>(): <span class="type">Promise&lt;boolean&gt;</span>
                </div>
                <div class="api-method-description">
                    æ‰‹åŠ¨æ£€æŸ¥ Service Worker æ›´æ–°ã€‚
                </div>

                <div class="api-example">
                    <h4>ç¤ºä¾‹</h4>
                    <div class="api-code">
                        <button class="api-code-copy" onclick="copyCode(this)">å¤åˆ¶</button>
<pre>const hasUpdate = await window.swAPI.checkUpdate();
if (hasUpdate) {
    console.log('æœ‰æ–°ç‰ˆæœ¬å¯ç”¨');
}</pre>
                    </div>
                </div>
            </div>

            <!-- clearCache() -->
            <div class="api-method">
                <h3>swAPI.clearCache()</h3>
                <div class="api-method-signature">
<span class="keyword">async function</span> <span class="function">clearCache</span>(): <span class="type">Promise&lt;void&gt;</span>
                </div>
                <div class="api-method-description">
                    æ¸…é™¤æ‰€æœ‰ Service Worker ç¼“å­˜ã€‚
                </div>

                <div class="api-example">
                    <h4>ç¤ºä¾‹</h4>
                    <div class="api-code">
                        <button class="api-code-copy" onclick="copyCode(this)">å¤åˆ¶</button>
<pre>await window.swAPI.clearCache();
console.log('ç¼“å­˜å·²æ¸…é™¤');</pre>
                    </div>
                </div>
            </div>

            <!-- getVersion() -->
            <div class="api-method">
                <h3>swAPI.getVersion()</h3>
                <div class="api-method-signature">
<span class="keyword">function</span> <span class="function">getVersion</span>(): <span class="type">string</span>
                </div>
                <div class="api-method-description">
                    è·å–å½“å‰ Service Worker ç‰ˆæœ¬ã€‚
                </div>

                <div class="api-example">
                    <h4>ç¤ºä¾‹</h4>
                    <div class="api-code">
                        <button class="api-code-copy" onclick="copyCode(this)">å¤åˆ¶</button>
<pre>const version = window.swAPI.getVersion();
console.log(`SW ç‰ˆæœ¬: ${version}`);</pre>
                    </div>
                </div>
            </div>
        </div>

        <!-- Share Functions -->
        <div class="api-section" id="share">
            <h2><i class="fas fa-share-alt"></i> Share Functions</h2>
            <p>ç¤¾äº¤åˆ†äº«åŠŸèƒ½ï¼Œæ”¯æŒå¤šä¸ªå¹³å°å’ŒåŸç”Ÿåˆ†äº« APIã€‚</p>

            <!-- handleNativeShare() -->
            <div class="api-method">
                <h3>handleNativeShare()</h3>
                <div class="api-method-signature">
<span class="keyword">async function</span> <span class="function">handleNativeShare</span>(): <span class="type">Promise&lt;void&gt;</span>
                </div>
                <div class="api-method-description">
                    ä½¿ç”¨æµè§ˆå™¨åŸç”Ÿåˆ†äº« API åˆ†äº«å½“å‰é¡µé¢ã€‚
                </div>

                <div class="api-example">
                    <h4>ç¤ºä¾‹</h4>
                    <div class="api-code">
                        <button class="api-code-copy" onclick="copyCode(this)">å¤åˆ¶</button>
<pre>// è°ƒç”¨åŸç”Ÿåˆ†äº«
await window.handleNativeShare();</pre>
                    </div>
                </div>

                <div class="api-info">
                    <i class="fas fa-info-circle"></i>
                    <p>ä»…åœ¨æ”¯æŒ Web Share API çš„æµè§ˆå™¨ä¸­å¯ç”¨ï¼ˆä¸»è¦æ˜¯ç§»åŠ¨æµè§ˆå™¨ï¼‰ã€‚</p>
                </div>
            </div>

            <!-- handleShare() -->
            <div class="api-method">
                <h3>handleShare(platform)</h3>
                <div class="api-method-signature">
<span class="keyword">function</span> <span class="function">handleShare</span>(<span class="param">platform</span>: <span class="type">string</span>): <span class="type">void</span>
                </div>
                <div class="api-method-description">
                    åˆ†äº«åˆ°æŒ‡å®šçš„ç¤¾äº¤å¹³å°ã€‚
                </div>

                <div class="api-params">
                    <h4>å‚æ•°</h4>
                    <div class="api-param">
                        <span class="api-param-name">platform</span>
                        <span class="api-param-type">string</span>
                        <span class="api-param-required">å¿…éœ€</span>
                        <div class="api-param-description">
                            å¹³å°æ ‡è¯†ç¬¦ï¼š'weibo', 'wechat', 'qq', 'twitter', 'facebook', 'linkedin', 'telegram', 'email', 'copy'
                        </div>
                    </div>
                </div>

                <div class="api-example">
                    <h4>ç¤ºä¾‹</h4>
                    <div class="api-code">
                        <button class="api-code-copy" onclick="copyCode(this)">å¤åˆ¶</button>
<pre>// åˆ†äº«åˆ°å¾®åš
window.handleShare('weibo');

// åˆ†äº«åˆ° Twitter
window.handleShare('twitter');

// å¤åˆ¶é“¾æ¥
window.handleShare('copy');</pre>
                    </div>
                </div>
            </div>
        </div>

        <!-- Feedback Functions -->
        <div class="api-section" id="feedback">
            <h2><i class="fas fa-comment"></i> Feedback Functions</h2>
            <p>ç”¨æˆ·åé¦ˆåŠŸèƒ½ï¼Œç”¨äºæ”¶é›†ç”¨æˆ·æ„è§å’ŒæŠ¥å‘Šé—®é¢˜ã€‚</p>

            <!-- selectFeedbackType() -->
            <div class="api-method">
                <h3>selectFeedbackType(type)</h3>
                <div class="api-method-signature">
<span class="keyword">function</span> <span class="function">selectFeedbackType</span>(<span class="param">type</span>: <span class="type">string</span>): <span class="type">void</span>
                </div>
                <div class="api-method-description">
                    é€‰æ‹©åé¦ˆç±»å‹å¹¶æ˜¾ç¤ºå¯¹åº”çš„è¡¨å•ã€‚
                </div>

                <div class="api-params">
                    <h4>å‚æ•°</h4>
                    <div class="api-param">
                        <span class="api-param-name">type</span>
                        <span class="api-param-type">string</span>
                        <span class="api-param-required">å¿…éœ€</span>
                        <div class="api-param-description">
                            åé¦ˆç±»å‹ï¼š'bug', 'feature', 'content', 'other'
                        </div>
                    </div>
                </div>

                <div class="api-example">
                    <h4>ç¤ºä¾‹</h4>
                    <div class="api-code">
                        <button class="api-code-copy" onclick="copyCode(this)">å¤åˆ¶</button>
<pre>// æ˜¾ç¤ºé”™è¯¯æŠ¥å‘Šè¡¨å•
window.selectFeedbackType('bug');</pre>
                    </div>
                </div>
            </div>

            <!-- submitFeedback() -->
            <div class="api-method">
                <h3>submitFeedback(type)</h3>
                <div class="api-method-signature">
<span class="keyword">function</span> <span class="function">submitFeedback</span>(<span class="param">type</span>: <span class="type">string</span>): <span class="type">void</span>
                </div>
                <div class="api-method-description">
                    æäº¤åé¦ˆå¹¶åˆ›å»º GitHub Issue é“¾æ¥ã€‚
                </div>

                <div class="api-example">
                    <h4>ç¤ºä¾‹</h4>
                    <div class="api-code">
                        <button class="api-code-copy" onclick="copyCode(this)">å¤åˆ¶</button>
<pre>// æäº¤åé¦ˆ
window.submitFeedback('bug');</pre>
                    </div>
                </div>
            </div>
        </div>

        <!-- Cookie Consent -->
        <div class="api-section">
            <h2><i class="fas fa-cookie-bite"></i> Cookie Consent Functions</h2>
            <p>Cookie åŒæ„ç®¡ç†åŠŸèƒ½ã€‚</p>

            <div class="api-method">
                <h3>acceptCookies()</h3>
                <div class="api-method-signature">
<span class="keyword">function</span> <span class="function">acceptCookies</span>(): <span class="type">void</span>
                </div>
                <div class="api-method-description">
                    æ¥å— Cookie å¹¶å¯ç”¨æ‰€æœ‰è¿½è¸ªåŠŸèƒ½ã€‚
                </div>
            </div>

            <div class="api-method">
                <h3>rejectCookies()</h3>
                <div class="api-method-signature">
<span class="keyword">function</span> <span class="function">rejectCookies</span>(): <span class="type">void</span>
                </div>
                <div class="api-method-description">
                    æ‹’ç» Cookie å¹¶ç¦ç”¨è¿½è¸ªåŠŸèƒ½ã€‚
                </div>
            </div>
        </div>

    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <h3>å…³äº</h3>
                <p>å…è´¹å¼€æ”¾çš„ç¡¬ä»¶å·¥ç¨‹å¸ˆçŸ¥è¯†åº“</p>
            </div>
            <div class="footer-section">
                <h3>é“¾æ¥</h3>
                <ul>
                    <li><a href="index.html">é¦–é¡µ</a></li>
                    <li><a href="cases.html">æ¡ˆä¾‹åº“</a></li>
                    <li><a href="quick-reference.html">å¿«é€Ÿå‚è€ƒ</a></li>
                    <li><a href="api-docs.html">API æ–‡æ¡£</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>èµ„æº</h3>
                <ul>
                    <li><a href="CHANGELOG.md" target="_blank">æ›´æ–°æ—¥å¿—</a></li>
                    <li><a href="CONTRIBUTING.md" target="_blank">è´¡çŒ®æŒ‡å—</a></li>
                    <li><a href="CONTRIBUTORS.md" target="_blank">è´¡çŒ®è€…</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2026 ç¡¬ä»¶å·¥ç¨‹å¸ˆçŸ¥è¯†åº“. All Rights Reserved. | <a href="LICENSE" target="_blank">MIT License</a> | <a href="https://github.com/27834853-ctrl/hardware_knowledge_base" target="_blank"><i class="fab fa-github"></i> GitHub</a></p>
        </div>
    </footer>

    <!-- Back to Top -->
    <button class="back-to-top" id="backToTop" onclick="scrollToTop()">
        <i class="fas fa-arrow-up"></i>
    </button>

    <script src="script.js"></script>
    <script src="search-optimizer.js"></script>
    <script src="sw-register.js"></script>
    <script src="share.js"></script>
    <script src="analytics.js"></script>
    <script src="feedback.js"></script>

    <script>
        // Copy code functionality
        function copyCode(button) {
            const codeBlock = button.nextElementSibling;
            const code = codeBlock.textContent;

            navigator.clipboard.writeText(code).then(() => {
                const originalText = button.textContent;
                button.textContent = 'å·²å¤åˆ¶!';
                button.style.background = '#4caf50';

                setTimeout(() => {
                    button.textContent = originalText;
                    button.style.background = '#667eea';
                }, 2000);
            });
        }

        // Smooth scroll for navigation links
        document.querySelectorAll('.api-nav-link').forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const targetId = link.getAttribute('href');
                const targetElement = document.querySelector(targetId);
                if (targetElement) {
                    targetElement.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            });
        });
    </script>
</body>
</html>
