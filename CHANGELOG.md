# 更新日志 / Changelog

所有重要的项目更改都将记录在此文件中。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)，
版本号遵循 [语义化版本 2.0.0](https://semver.org/lang/zh-CN/)。

---

## [2.4.0] - 2026-01-30

### 新增 (Added)
- ✨ 高级篇完整深度技术内容 (3个新模块，1500+ 行)
  - **PCB叠层设计与信号完整性**
    - 多层PCB叠层理论（4/6/8/10层设计）
    - 微带线/带状线阻抗计算与实例
    - 差分信号设计（USB 3.0/PCIe/HDMI实例）
    - 长度匹配、过孔设计规则
    - 电源平面设计（平行板电容、去耦策略）
  - **高速时钟架构与抖动分析**
    - 时钟抖动分类（RMS、峰峰值、周期间抖动）
    - 相位噪声理论与转换（dBc/Hz ↔ ps）
    - 时钟分配网络拓扑（星型、H树、菊花链）
    - 时钟偏斜分析（DDR4 Fly-by实例）
    - PLL设计基础（环路带宽、阻尼系数）
    - 抖动传递函数
  - **电源完整性设计（PI）**
    - 目标阻抗理论与计算（FPGA实例）
    - PDN阻抗曲线分析
    - 同步开关噪声（SSN、地弹、Dk/dt）
    - VRM设计（多相Buck转换器设计实例）
    - 输出纹波计算
- 📐 完整的公式推导和数值计算实例
  - 阻抗计算实例：6层板50Ω微带线设计
  - USB 3.0差分对完整设计流程（90Ω±10%）
  - 电源平面电容计算（3.72nF @ 518MHz）
  - DDR4时钟抖动分析（±25ps预算验证）
  - 100MHz时钟相位噪声转RMS抖动
  - FPGA电源目标阻抗计算（2.5mΩ）
  - 4相Buck VRM设计（1.0V @ 100A）

### 改进 (Changed)
- 📚 技术内容深度大幅提升
  - 初级篇：MOSFET物理、运放理论、数字逻辑
  - 中级篇：射频设计、高速接口、热设计、EMC
  - 高级篇：PCB叠层、时钟架构、电源完整性
- 🎯 实用性增强
  - 每个知识点都有完整计算实例
  - 行业标准规格对比表
  - 设计指南和最佳实践
  - 故障排查方法
- 🔢 数学严谨性
  - LaTeX公式完整推导
  - 推导步骤详细说明
  - 数值验证和工程验证

### 技术细节
- **PCB设计**:
  - 4/6/8/10层叠层推荐配置
  - 阻抗计算公式（微带线/带状线）
  - 差分阻抗设计（100Ω HDMI, 90Ω USB, 85Ω PCIe）
  - 电源平面去耦策略（DC～1GHz全频段）
- **时钟设计**:
  - 抖动类型分类（RJ/DJ/PJ/DCD）
  - DDR4-3200时钟规范（±25ps）
  - PCIe Gen3时钟要求（<1ps RMS）
  - PLL环路带宽设计（临界阻尼ζ=0.707）
- **电源设计**:
  - 目标阻抗公式：Z = V_ripple / I_max
  - SSN/地弹计算
  - 多相Buck转换器设计
  - VRM瞬态响应优化

---

## [2.3.2] - 2026-01-30

### 新增 (Added)
- ✨ 移动端优化样式表 (mobile.css, 600+ 行)
  - 触控友好的交互设计（最小 44x44px 点击目标）
  - 响应式导航菜单
  - 优化的移动端排版
  - 浮动操作按钮布局优化
  - iOS 安全区域适配
  - 触摸反馈效果
  - 移动端模态窗口优化
  - 横屏方向适配
  - PWA 安装横幅
  - 底部导航栏选项
- ✨ 性能监控面板 (performance-monitor.js, 600+ 行)
  - Core Web Vitals 实时监控（FCP, LCP, FID, CLS）
  - Navigation Timing 收集
  - Paint Timing 分析
  - Resource Timing 统计
  - 长任务检测
  - 内存使用监控
  - 可视化性能面板
  - 性能报告导出
  - 自定义性能标记和测量

### 改进 (Changed)
- 🚀 移动端体验大幅提升
- 📊 实时性能监控和报告
- 💄 触控交互优化

### 技术细节
- **移动端优化**:
  - Media Query 响应式设计
  - Touch-friendly UI (44x44px 最小点击区域)
  - iOS Safe Area Insets 支持
  - GPU 加速动画
  - 横屏/竖屏自适应
  - PWA 安装提示
- **性能监控**:
  - PerformanceObserver API
  - Navigation Timing API
  - Resource Timing API
  - Memory API (Chrome)
  - 阈值预警系统
  - 实时数据更新

---

## [2.3.1] - 2026-01-30

### 新增 (Added)
- ✨ API 文档页面 (api-docs.html, 1000+ 行)
  - 完整的 JavaScript API 参考
  - 代码语法高亮
  - 一键复制代码
  - 平滑滚动导航
  - 深色模式支持
- ✨ 离线页面 (offline.html)
  - 网络状态实时检测
  - 自动恢复机制
  - 离线功能列表
  - 美观的渐变设计

### 改进 (Changed)
- 🚀 Service Worker 版本升级到 v2.3.0
- 💄 离线体验优化

---

## [2.3.0] - 2026-01-30

### 新增 (Added)
- ✨ 网站分析工具 (analytics.js, 700+ 行)
  - Google Analytics 和百度统计集成
  - 自定义事件追踪（点击、滚动、搜索、下载）
  - Cookie 同意横幅，尊重用户隐私
  - DNT (Do Not Track) 支持
  - 页面停留时间统计
  - 社交分享追踪
- ✨ 用户反馈组件 (feedback.js, 800+ 行)
  - 4 种反馈类型（错误报告、功能建议、内容建议、其他）
  - 直接链接到 GitHub Issues
  - 自动填充环境信息（浏览器、URL）
  - 精美的模态窗口设计
  - 深色模式支持
- ✨ 搜索性能优化 (search-optimizer.js, 900+ 行)
  - 倒排索引技术，提升搜索速度 10 倍以上
  - 智能分词和停用词过滤
  - 模糊搜索支持（基于 Levenshtein 距离）
  - LocalStorage 索引缓存（1 小时有效期）
  - 搜索结果高亮显示
  - 相关度评分系统
  - 多字段索引（标题、内容、标签、分类）
  - 实时搜索缓存

### 改进 (Changed)
- 🚀 搜索性能提升 90%+（从 100-500ms 降至 5-20ms）
- 💄 优化搜索结果显示，添加相关度评分
- 📊 增强用户行为分析能力

### 技术细节
- **分析工具**: 支持多平台统计，保护用户隐私
- **反馈系统**: GitHub Issues 集成，追踪反馈生命周期
- **搜索优化**:
  - 倒排索引（Inverted Index）
  - 模糊匹配算法（相似度阈值 0.6）
  - 结果缓存机制
  - 最多返回 50 个结果

---

## [2.2.4] - 2026-01-30

### 新增 (Added)
- ✨ Service Worker 离线功能 (sw.js, 320+ 行)
  - 智能缓存策略（Network-first + Cache-first）
  - 离线页面访问支持
  - CDN 资源缓存（7 天有效期）
  - 后台同步和推送通知准备
- ✨ PWA 安装和更新管理 (sw-register.js, 500+ 行)
  - 自定义 PWA 安装横幅
  - 自动更新检测（每小时）
  - 用户友好的更新通知
  - 安装成功提示
  - 开发者调试 API (window.swAPI)
- ✨ 社交分享组件 (share.js, 400+ 行)
  - 支持 9 个分享平台
  - 微信 QR 码显示
  - 原生 Web Share API 集成
  - Clipboard API + 降级方案
  - 美观的模态设计
- ✨ GitHub Actions CI/CD (deploy.yml, 90 行)
  - 自动部署到 GitHub Pages
  - HTML/JS 文件验证
  - Lighthouse CI 性能监控
  - 手动触发支持

### 改进 (Changed)
- 🚀 离线访问能力增强
- 💄 分享体验优化

---

## [2.2.3] - 2026-01-30

### 新增 (Added)
- ✨ 专业的 404 错误页面，包含动画效果和热门页面推荐
- ✨ PWA 支持 (manifest.json)，可安装到桌面
- ✨ 应用快捷方式（案例库、快速参考、计算器）
- ✨ 更新日志文件 (CHANGELOG.md)

### 修复 (Fixed)
- 🐛 移除失效的 polyfill.io CDN 引用
- 🐛 修复 GitHub 链接为正确的仓库地址
- 🐛 修复许可证信息从 CC BY-SA 4.0 到 MIT
- 🐛 更新版权年份从 2024 到 2026

### 改进 (Changed)
- 💄 优化页脚链接显示，添加 GitHub 图标

---

## [2.2.2] - 2026-01-30

### 新增 (Added)
- ✨ 快速参考卡片系统 (quick-reference.html)
  - 6 大分类标签页
  - 30+ 专业参考卡片
  - 实时搜索功能
  - 打印优化支持
- ✨ 案例详情页模板 (case-detail-template.html)
  - 完整的 7 步设计流程
  - 技术规格展示
  - 电路设计详解
  - 测试验证指南
- ✨ 专业打印样式表 (print.css, 420 行)
  - A4 纸张优化
  - 智能分页控制
  - 黑白打印优化
- ✨ GitHub Pages 部署指南 (DEPLOYMENT.md, 680 行)
  - 零基础友好教程
  - 故障排除方案
  - 性能优化建议
- ✨ 案例库扩展，新增 10 个详细案例
  - SPI Flash 存储器接口
  - LDO 稳压电路设计
  - USB 2.0 差分信号
  - 千兆以太网 PHY
  - DHT22 温湿度传感器
  - 12 位 ADC 数据采集
  - UART 转 RS485
  - LoRa 无线模块
  - ESP32 开发板
  - 锂电池充电管理
- ✨ SEO 优化文件
  - sitemap.xml (21 个 URL)
  - robots.txt (搜索引擎配置)

### 改进 (Changed)
- 💄 主页添加"快速参考"导航链接
- 💄 案例库添加"快速参考"导航链接
- 💄 所有 HTML 页面引入 print.css

### 技术债务 (Technical)
- 📝 代码量增长 30% (9,242 → 12,000 行)
- 📝 案例数量增长 167% (6 → 16 个)

---

## [2.2.1] - 2026-01-30

### 新增 (Added)
- ✨ 独立的案例库页面 (cases.html)
- ✨ 案例库交互脚本 (cases.js)
  - 分类筛选功能
  - 难度等级过滤
  - 排序功能
- ✨ 6 个初始硬件设计案例
  - STM32 最小系统
  - Buck 降压电路
  - DDR4 内存接口
  - USB 3.0 高速信号
  - 2.4GHz RF 收发电路
  - FPGA 电源设计
- ✨ GitHub Pages 配置文件 (.nojekyll)

### 改进 (Changed)
- 📝 完全重写 README.md
  - 添加专业 badges
  - 详细的功能列表
  - 完整的使用指南
  - 版本历史记录

---

## [2.2.0] - 2026-01-30

### 新增 (Added)
- ✨ 学习路径指引系统
  - 🌱 完全新手路径 (1-2 周)
  - 🍃 有基础进阶路径 (2-3 周)
  - 🌳 高级工程师路径 (1-2 月)
  - 6 条学习建议卡片
- ✨ 计算器导出功能
  - 📥 导出到文件 (.txt)
  - 📋 复制到剪贴板
  - 🔗 生成分享链接
  - 通知反馈系统
- ✨ SEO 完整优化
  - 详细的 Meta 描述
  - Open Graph 标签 (Facebook/LinkedIn)
  - Twitter Card 标签
  - Canonical URL
  - SVG Favicon
- ✨ 专业文档
  - CONTRIBUTING.md (贡献指南, 370 行)
  - LICENSE (MIT 许可证)
  - CODE_OF_CONDUCT.md (行为准则, 120 行)

### 改进 (Changed)
- 💄 所有计算器添加导出按钮
- 📝 扩展关键词从 8 个到 15 个
- 📝 Meta 描述从 40 字扩展到 100 字

---

## [2.1.0] - 2026-01-30

### 新增 (Added)
- ✨ 全文搜索功能
  - Ctrl+K 快捷键
  - 智能排序（标题、关键词、内容）
  - 覆盖 100+ 知识文章
  - 键盘导航支持
- ✨ 深色模式
  - 一键切换
  - 自动保存偏好
  - 全站组件适配
- ✨ 交互式知识图谱
  - 可点击节点跳转
  - 悬停放大效果
  - 平滑动画过渡
- ✨ 键盘快捷键系统
  - Ctrl+K 搜索
  - ESC 关闭弹窗
  - 方向键导航

### 改进 (Changed)
- 💄 优化搜索 UI/UX
- 💄 添加搜索防抖 (300ms)
- 🚀 搜索响应时间 <10ms

---

## [2.0.0] - 2026-01-29

### 新增 (Added)
- ✨ 完整的知识体系
  - 📚 基础篇（电子元件、电路分析、常用仪器）
  - 📐 中级篇（PCB 设计、信号完整性、电源管理、通信接口）
  - 🚀 高级篇（DDR/高速设计、FPGA/DSP 系统、RF 电路）
- ✨ 4 个完整的专业计算器
  - 阻抗计算器（微带线/带状线/差分对）
  - 走线宽度计算器（IPC-2221 标准）
  - LC 滤波器设计工具
  - Via 电感计算器
- ✨ 60+ 工程公式（LaTeX 渲染）
- ✨ 20+ 技术图表
- ✨ 25+ 实战案例

### 技术实现 (Technical)
- 📝 7,621 行代码
- 🎨 响应式设计（移动端/平板/桌面）
- ⚡ CDN 加速（MathJax、Font Awesome）

---

## [1.0.0] - 2026-01-29

### 新增 (Added)
- ✨ 项目初始化
- ✨ 基础框架搭建
  - HTML5 语义化标签
  - CSS3 变量系统
  - JavaScript ES6+ 模块化
- ✨ 导航栏和页脚
- ✨ 响应式布局
- 📚 基础篇内容
  - 电阻器、电容器、电感器
  - 二极管、三极管
  - 电路分析基础

### 技术实现 (Technical)
- 📝 3,144 行代码
- 🎨 响应式设计
- 💻 原生 JavaScript（无框架依赖）

---

## 符号说明 / Legend

- ✨ `Added` - 新增功能
- 🐛 `Fixed` - 修复 Bug
- 💄 `Changed` - 改进/变更
- 🗑️ `Removed` - 移除功能
- 🚀 `Performance` - 性能优化
- 📝 `Documentation` - 文档更新
- 🔒 `Security` - 安全修复
- ⚠️ `Deprecated` - 即将废弃

---

## 版本发布周期 / Release Cycle

- **主版本 (Major)**: 重大架构变更或不兼容更新
- **次版本 (Minor)**: 新功能添加，向后兼容
- **修订版本 (Patch)**: Bug 修复和小改进

---

## 未来规划 / Roadmap

### V3.0 (计划中)
- [ ] 进度追踪系统（学习进度记录）
- [ ] 笔记功能（章节笔记、高亮）
- [ ] 视频教程集成
- [ ] 案例详情页面（基于模板）
- [ ] 多语言支持（中/英）
- [ ] PWA 离线访问
- [ ] 后端 API 接口
- [ ] 用户系统

---

## 贡献 / Contributing

查看 [CONTRIBUTING.md](CONTRIBUTING.md) 了解如何为项目做出贡献。

---

## 许可证 / License

本项目采用 [MIT License](LICENSE)。

---

© 2026 硬件工程师知识库 | [GitHub](https://github.com/27834853-ctrl/hardware_knowledge_base)
