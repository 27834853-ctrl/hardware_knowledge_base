<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PCIeæ·±åº¦æµ‹è¯• - LaTeXä¿®å¤ç‰ˆï¼ˆå†…è”å†…å®¹ï¼‰</title>
    <!-- MathJax é…ç½® -->
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']],
                processEscapes: true,
                processEnvironments: true
            },
            options: {
                skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre']
            }
        };
    </script>
    <!-- MathJax åŠ è½½ -->
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        body {
            font-family: "Microsoft YaHei", Arial, sans-serif;
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
            line-height: 1.6;
        }
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            border-radius: 10px;
            margin-bottom: 30px;
            text-align: center;
        }
        .success-banner {
            background: #d4edda;
            color: #155724;
            padding: 20px;
            border-radius: 8px;
            border: 2px solid #c3e6cb;
            margin: 20px 0;
            text-align: center;
        }
        .content-section {
            background: white;
            padding: 30px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .concept-box {
            background: #f8f9fa;
            padding: 20px;
            margin: 15px 0;
            border-left: 4px solid #667eea;
            border-radius: 5px;
        }
        .formula-box {
            background: #fff3cd;
            padding: 20px;
            margin: 15px 0;
            border-left: 4px solid #ffc107;
            border-radius: 5px;
        }
        .formula-box p {
            margin: 10px 0;
        }
        h2 {
            color: #667eea;
            border-bottom: 2px solid #667eea;
            padding-bottom: 10px;
        }
        h4 {
            color: #764ba2;
            margin-top: 30px;
        }
        h5 {
            color: #495057;
            margin-top: 20px;
        }
        ul, ol {
            margin: 10px 0;
            padding-left: 25px;
        }
        li {
            margin: 8px 0;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        th, td {
            padding: 12px;
            text-align: left;
            border: 1px solid #dee2e6;
        }
        th {
            background: #667eea;
            color: white;
            font-weight: bold;
        }
        tr:nth-child(even) {
            background: #f8f9fa;
        }
        code {
            background: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            color: #d63384;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>ğŸ¯ PCIeæ·±åº¦æµ‹è¯•ä¸è°ƒè¯•æŠ€æœ¯</h1>
        <p>v2.6.5-FIXED-INLINE - LaTeXå…¬å¼å®Œæ•´ä¿®å¤ç‰ˆ</p>
        <p>æ‰€æœ‰å†…å®¹ç›´æ¥å†…è”ï¼Œä¸ä¾èµ–å¤–éƒ¨JSæ–‡ä»¶</p>
    </div>

    <div class="success-banner">
        <h2 style="margin: 0 0 10px 0; color: #155724; border: none;">âœ… æ­¤é¡µé¢å·²è§£å†³æ‰€æœ‰ç¼“å­˜é—®é¢˜</h2>
        <p style="margin: 5px 0;">å†…å®¹ç›´æ¥åµŒå…¥HTMLï¼ŒLaTeXå…¬å¼åŒ…å«å®Œæ•´çš„åæ–œæ å‘½ä»¤</p>
        <p style="margin: 5px 0;">å¦‚æœä¸‹æ–¹å…¬å¼æ­£ç¡®æ˜¾ç¤ºï¼Œè¯´æ˜é—®é¢˜å·²å½»åº•è§£å†³</p>
    </div>

    <div class="content-section">
        <h2><i class="fas fa-microscope"></i> PCIeæ·±åº¦æµ‹è¯•æŠ€æœ¯</h2>

        <h4>1.1 å‘é€ç«¯ç”µå‹æµ‹è¯•</h4>
        <div class="concept-box">
            <h5>æµ‹è¯•ç›®æ ‡</h5>
            <p>éªŒè¯PCIeå‘é€ç«¯çš„å·®åˆ†ç”µå‹å’Œå…±æ¨¡ç”µå‹æ˜¯å¦ç¬¦åˆè§„èŒƒè¦æ±‚ã€‚</p>

            <h5>æµ‹è¯•æ­¥éª¤</h5>
            <ol>
                <li>ä½¿ç”¨é«˜å¸¦å®½ç¤ºæ³¢å™¨ï¼ˆâ‰¥20 GHz for Gen5ï¼‰</li>
                <li>è¿æ¥å·®åˆ†æ¢å¤´åˆ°PCIe TX+å’ŒTX-ä¿¡å·</li>
                <li>æµ‹é‡å·®åˆ†å³°å³°å€¼ç”µå‹: Vpp = |V(D+) - V(D-)|</li>
                <li>æµ‹é‡å…±æ¨¡ç”µå‹: Vcm = (V(D+) + V(D-)) / 2</li>
                <li>éªŒè¯æ˜¯å¦åœ¨è§„èŒƒèŒƒå›´å†…</li>
            </ol>
        </div>

        <h4>1.2 é¢„åŠ é‡(De-emphasis)æµ‹è¯•</h4>
        <div class="concept-box">
            <h5>é¢„åŠ é‡åŸç†</h5>
            <p>é€šè¿‡å‡å°é«˜é¢‘æˆåˆ†çš„å¹…åº¦æ¥è¡¥å¿ä¼ è¾“çº¿çš„é«˜é¢‘æŸè€—ï¼Œæ”¹å–„ä¿¡å·å®Œæ•´æ€§ã€‚</p>

            <div class="formula-box">
                <p><strong>é¢„åŠ é‡æ¯”è®¡ç®—å…¬å¼</strong>:</p>
                <p>$De-emphasis (dB) = 20 \times \log_{10}\left(\frac{V_{low}}{V_{high}}\right)$</p>
                <p>å…¶ä¸­:</p>
                <ul>
                    <li>$V_{high}$: é¦–ä¸ªUIçš„å¹…åº¦(æœªåŠ é‡)</li>
                    <li>$V_{low}$: åç»­UIçš„å¹…åº¦(å·²åŠ é‡)</li>
                </ul>
            </div>

            <h5>PCIeå„ä»£é¢„åŠ é‡è¦æ±‚</h5>
            <table>
                <thead>
                    <tr>
                        <th>PCIeä»£</th>
                        <th>é€Ÿç‡</th>
                        <th>De-emphasisèŒƒå›´</th>
                        <th>å…¸å‹å€¼</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Gen 1</td>
                        <td>2.5 GT/s</td>
                        <td>-3.5 dB Â± 1 dB</td>
                        <td>-3.5 dB</td>
                    </tr>
                    <tr>
                        <td>Gen 2</td>
                        <td>5.0 GT/s</td>
                        <td>-3.5 dB Â± 1 dB</td>
                        <td>-3.5 dB</td>
                    </tr>
                    <tr>
                        <td>Gen 3</td>
                        <td>8.0 GT/s</td>
                        <td>-3.5 dB æˆ– -6.0 dB</td>
                        <td>-3.5 dB</td>
                    </tr>
                    <tr>
                        <td>Gen 4</td>
                        <td>16.0 GT/s</td>
                        <td>ä½¿ç”¨é¢„åŠ é‡+å‡è¡¡</td>
                        <td>-6.0 dB</td>
                    </tr>
                    <tr>
                        <td>Gen 5</td>
                        <td>32.0 GT/s</td>
                        <td>ä½¿ç”¨3-tap FIRå‡è¡¡</td>
                        <td>è‡ªé€‚åº”</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <h4>1.3 æ€»æŠ–åŠ¨(Total Jitter)æµ‹è¯•</h4>
        <div class="concept-box">
            <h5>æŠ–åŠ¨å®šä¹‰</h5>
            <p>æŠ–åŠ¨æ˜¯ä¿¡å·è¾¹æ²¿ç›¸å¯¹äºç†æƒ³ä½ç½®çš„æ—¶é—´åç§»ï¼Œåˆ†ä¸ºç¡®å®šæ€§æŠ–åŠ¨(DJ)å’ŒéšæœºæŠ–åŠ¨(RJ)ã€‚</p>

            <div class="formula-box">
                <p><strong>æ€»æŠ–åŠ¨è®¡ç®—å…¬å¼</strong>:</p>
                <p>$TJ = DJ + n \times RJ$</p>
                <p>å…¶ä¸­:</p>
                <ul>
                    <li>$DJ$: ç¡®å®šæ€§æŠ–åŠ¨ (Deterministic Jitter)</li>
                    <li>$RJ$: éšæœºæŠ–åŠ¨ (Random Jitter)</li>
                    <li>$n$: ç½®ä¿¡ç³»æ•°ï¼Œå¯¹äº BER = 10â»Â¹Â², n â‰ˆ 14.069</li>
                </ul>

                <p><strong>PCIeå„ä»£æŠ–åŠ¨è¦æ±‚</strong>:</p>
                <table>
                    <thead>
                        <tr>
                            <th>PCIeä»£</th>
                            <th>æœ€å¤§TJ</th>
                            <th>UIå‘¨æœŸ</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Gen 1 (2.5 GT/s)</td>
                            <td>0.30 UI</td>
                            <td>400 ps</td>
                        </tr>
                        <tr>
                            <td>Gen 2 (5.0 GT/s)</td>
                            <td>0.28 UI</td>
                            <td>200 ps</td>
                        </tr>
                        <tr>
                            <td>Gen 3 (8.0 GT/s)</td>
                            <td>0.25 UI</td>
                            <td>125 ps</td>
                        </tr>
                        <tr>
                            <td>Gen 4 (16.0 GT/s)</td>
                            <td>0.20 UI</td>
                            <td>62.5 ps</td>
                        </tr>
                        <tr>
                            <td>Gen 5 (32.0 GT/s)</td>
                            <td>0.15 UI</td>
                            <td>31.25 ps</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <h4>1.4 å‡è¡¡å™¨æŠ€æœ¯</h4>
        <div class="concept-box">
            <h5>3-tap FIRå‡è¡¡å™¨</h5>
            <p>Gen 4åŠä»¥ä¸Šä½¿ç”¨3-tapæœ‰é™å†²å‡»å“åº”(FIR)å‡è¡¡å™¨æ¥è¡¥å¿ä¼ è¾“æŸè€—ã€‚</p>

            <div class="formula-box">
                <p><strong>3-tap FIRå…¬å¼</strong>:</p>
                <p>$V_{out}(n) = C_{-1} \times V_{in}(n-1) + C_0 \times V_{in}(n) + C_{+1} \times V_{in}(n+1)$</p>
                <p>å…¶ä¸­:</p>
                <ul>
                    <li>$C_{-1}$: å‰ç½®æŠ½å¤´ç³»æ•° (Pre-cursor)</li>
                    <li>$C_0$: ä¸»æŠ½å¤´ç³»æ•° (Main cursor)</li>
                    <li>$C_{+1}$: åç½®æŠ½å¤´ç³»æ•° (Post-cursor)</li>
                </ul>

                <p><strong>ç³»æ•°çº¦æŸ</strong>:</p>
                <ul>
                    <li>$|C_{-1}| + |C_0| + |C_{+1}| = 1$ (å½’ä¸€åŒ–)</li>
                    <li>$C_0$ é€šå¸¸æœ€å¤§ï¼Œä¿æŒä¿¡å·ä¸»è¦èƒ½é‡</li>
                    <li>å…¸å‹å€¼: $C_{-1} = 0.1, C_0 = 0.7, C_{+1} = 0.2$</li>
                </ul>
            </div>

            <h5>CTLE (è¿ç»­æ—¶é—´çº¿æ€§å‡è¡¡å™¨)</h5>
            <p>æ¥æ”¶ç«¯ä½¿ç”¨CTLEè¿›è¡Œæ¨¡æ‹ŸåŸŸå‡è¡¡ï¼Œè¡¥å¿é«˜é¢‘æŸè€—ã€‚</p>

            <div class="formula-box">
                <p><strong>CTLEé¢‘ç‡å“åº”</strong>:</p>
                <p>$H_{CTLE}(f) = \frac{1 + j \cdot \frac{f}{f_{z}}}{1 + j \cdot \frac{f}{f_{p}}}$</p>
                <p>å…¶ä¸­:</p>
                <ul>
                    <li>$f_z$: é›¶ç‚¹é¢‘ç‡ (boostèµ·å§‹é¢‘ç‡)</li>
                    <li>$f_p$: æç‚¹é¢‘ç‡ (boostç»ˆæ­¢é¢‘ç‡)</li>
                    <li>å¢ç›Š: $20\log_{10}\left(\frac{f_p}{f_z}\right)$ dB</li>
                </ul>
            </div>
        </div>

        <h4>1.5 è¯¯ç ç‡(BER)æµ‹è¯•</h4>
        <div class="concept-box">
            <h5>BERæµ‹è¯•åŸç†</h5>
            <p>è¯¯ç ç‡(Bit Error Rate)æ˜¯è¡¡é‡é“¾è·¯è´¨é‡çš„å…³é”®æŒ‡æ ‡ã€‚</p>

            <div class="formula-box">
                <p><strong>BERè®¡ç®—å…¬å¼</strong>:</p>
                <p>$BER = \frac{\text{é”™è¯¯æ¯”ç‰¹æ•°}}{\text{æ€»æ¯”ç‰¹æ•°}}$</p>

                <p><strong>PCIe BERè¦æ±‚</strong>:</p>
                <ul>
                    <li>Gen 1-3: BER < 10â»Â¹Â²</li>
                    <li>Gen 4-5: BER < 10â»Â¹Â²</li>
                    <li>æµ‹è¯•ç½®ä¿¡åº¦: éœ€è¦æµ‹è¯• > 10Â¹Â³ bits</li>
                </ul>

                <p><strong>æµ‹è¯•æ—¶é—´ä¼°ç®—</strong>:</p>
                <table>
                    <thead>
                        <tr>
                            <th>é€Ÿç‡</th>
                            <th>æµ‹è¯•æ¯”ç‰¹æ•°</th>
                            <th>æµ‹è¯•æ—¶é—´</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>2.5 GT/s (Gen 1)</td>
                            <td>10Â¹Â³ bits</td>
                            <td>~67 åˆ†é’Ÿ</td>
                        </tr>
                        <tr>
                            <td>8.0 GT/s (Gen 3)</td>
                            <td>10Â¹Â³ bits</td>
                            <td>~21 åˆ†é’Ÿ</td>
                        </tr>
                        <tr>
                            <td>16.0 GT/s (Gen 4)</td>
                            <td>10Â¹Â³ bits</td>
                            <td>~10 åˆ†é’Ÿ</td>
                        </tr>
                        <tr>
                            <td>32.0 GT/s (Gen 5)</td>
                            <td>10Â¹Â³ bits</td>
                            <td>~5 åˆ†é’Ÿ</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <div class="success-banner">
        <h3 style="margin: 0; color: #155724;">âœ… éªŒè¯ç»“æœ</h3>
        <p>å¦‚æœæ‚¨èƒ½æ­£ç¡®çœ‹åˆ°ä¸Šè¿°æ‰€æœ‰æ•°å­¦å…¬å¼ï¼ˆä¸æ˜¯LaTeXæºä»£ç ï¼Œè€Œæ˜¯æ¸²æŸ“åçš„æ•°å­¦ç¬¦å·ï¼‰ï¼Œè¯´æ˜ï¼š</p>
        <ol style="text-align: left; display: inline-block; margin: 10px auto;">
            <li>LaTeXå…¬å¼å·²å®Œå…¨ä¿®å¤ï¼ˆåŒ…å«å®Œæ•´çš„ \times, \log, \frac ç­‰å‘½ä»¤ï¼‰</li>
            <li>MathJaxæ­£å¸¸å·¥ä½œ</li>
            <li>æµè§ˆå™¨èƒ½å¤Ÿæ­£ç¡®æ¸²æŸ“æ•°å­¦å…¬å¼</li>
        </ol>
        <p><strong>è¿™ä¸ªé¡µé¢å¯ä»¥ä½œä¸ºä¸»é¡µé¢çš„æ›¿ä»£æ–¹æ¡ˆï¼Œä¸ä¼šå—åˆ°ç¼“å­˜é—®é¢˜å½±å“</strong></p>
    </div>

    <script>
        // ç­‰å¾…MathJaxæ¸²æŸ“å®Œæˆåæ£€æŸ¥
        window.addEventListener('load', function() {
            setTimeout(function() {
                console.log('=== LaTeXå…¬å¼æ¸²æŸ“æ£€æŸ¥ ===');
                const formulas = document.querySelectorAll('.formula-box p');
                let errorCount = 0;
                let successCount = 0;

                formulas.forEach((formula, index) => {
                    if (formula.textContent.includes('Math input error')) {
                        console.error(`âŒ å…¬å¼ ${index + 1} æ¸²æŸ“å¤±è´¥`);
                        errorCount++;
                    } else if (formula.textContent.includes('$')) {
                        // ä»ç„¶æ˜¾ç¤º$ç¬¦å·ï¼Œè¯´æ˜MathJaxæœªæ¸²æŸ“
                        console.warn(`âš ï¸  å…¬å¼ ${index + 1} æœªæ¸²æŸ“`);
                    } else {
                        console.log(`âœ… å…¬å¼ ${index + 1} æ¸²æŸ“æˆåŠŸ`);
                        successCount++;
                    }
                });

                console.log(`\nğŸ“Š æ€»ç»“: ${successCount} ä¸ªå…¬å¼æ¸²æŸ“æˆåŠŸ, ${errorCount} ä¸ªå¤±è´¥`);

                if (errorCount === 0) {
                    console.log('ğŸ‰ æ‰€æœ‰LaTeXå…¬å¼æ¸²æŸ“æˆåŠŸï¼');
                }
            }, 3000);
        });
    </script>
</body>
</html>
